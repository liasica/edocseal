syntax = "proto3";

option go_package = "github.com/liasica/edocseal/pb";

package pb;

service Contract {
  // 新增模板
  rpc template(ContractTemplateRequest) returns (ContractTemplateResponse) {}

  // 预填充
  rpc fill(ContractFillRequest) returns (ContractFillResponse) {}

  // 合同签署
  rpc sign(ContractSignRequest) returns (ContractSignResponse) {}
}

//新增模板请求
message ContractTemplateRequest{
  string url = 1; // 合同模板文件地址
}

// 新增模板响应
message ContractTemplateResponse {
  string template = 1; // 合同模板编号
}

// 预填充请求
message ContractFillRequest{
  string template = 1; // 合同模板编号
}

// 预填充响应
message ContractFillResponse{
  string url = 1; // 预填充合同文件地址
}

// 合同签署请求
// 个签属性和团签属性只能二选一（需要进行限制判定）
// 目前未做整体字段实现，先用sn字段测试
message ContractSignRequest{
  string template = 1; // 合同模板编号
  string sn = 2; // 合同编号
  //  string name = 3; // 骑手姓名
  //  string idcard = 4; // 身份证号
  //  string address = 5; // 户口地址
  //  string phone = 6; // 骑手电话
  //  string city = 7; // 城市
  //  string rider_sign = 8; // 骑手签名
  //  string rider_contact = 9; // 骑手紧急联系人
  //  string date = 10; // 签署日期
  //  ContractSignPlan plan = 11; // 个签属性
  //  ContractSignEnterprise enterprise = 12; // 团签属性
}

// 个签属性，暂未实现
message ContractSignPlan {}

// 团签属性，暂未实现
message ContractSignEnterprise {}

// 合同签署响应
message ContractSignResponse{
  string file = 1; // 已签署合同文件地址
}
